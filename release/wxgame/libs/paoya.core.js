(function(l){function f(k){if(d[k])return d[k].exports;var h=d[k]={i:k,l:!1,exports:{}};l[k].call(h.exports,h,h.exports,f);h.l=!0;return h.exports}var d={};f.m=l;f.c=d;f.d=function(d,h,e){f.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:e})};f.r=function(d){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"});Object.defineProperty(d,"__esModule",{value:!0})};f.t=function(d,h){h&1&&(d=f(d));if(h&8||h&4&&"object"===typeof d&&d&&d.__esModule)return d;var e=Object.create(null);f.r(e);Object.defineProperty(e,"default",{enumerable:!0,value:d});if(h&2&&"string"!=typeof d)for(var c in d)f.d(e,c,function(a){return d[a]}.bind(null,c));return e};f.n=function(d){var h=d&&d.__esModule?function(){return d["default"]}:function(){return d};f.d(h,"a",h);return h};f.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)};f.p="";return f(f.s=0)})([function(l,f,d){d.r(f);l=d(1);d=d(2);for(var k in d)l["default"][k]=d[k];window.PaoYa=window.PaoYa||l["default"]},function(l,f,d){d.r(f);l=new (function(){return function(){}}());f["default"]=l},function(l,f,d){d.r(f);var k=d(3);d.d(f,"Component",function(){return k["default"]});var h=d(17);d.d(f,"View",function(){return h["default"]});var e=d(18);d.d(f,"Dialog",function(){return e["default"]});var c=d(19);d.d(f,"Navigator",function(){return c["default"]});var a=d(4);d.d(f,"Request",function(){return a["default"]});var b=d(20);d.d(f,"Client",function(){return b["default"]});var g=d(8);d.d(f,"NotificationCenter",function(){return g["default"]});d.d(f,"NotificationName",function(){return g.NotificationName});var p=d(13);d.d(f,"Observer",function(){return p["default"]});var n=d(5);d.d(f,"DataTrack",function(){return n["default"]});d.d(f,"DataTrackType",function(){return n.DataTrackType});var m=d(12);d.d(f,"PrizeType",function(){return m.PrizeType});d.d(f,"ShareType",function(){return m.ShareType});d.d(f,"RectCorner",function(){return m.RectCorner});d.d(f,"GameEntryType",function(){return m.GameEntryType});d.d(f,"SocketURLType",function(){return m.SocketURLType});d.d(f,"RankingType",function(){return m.RankingType});var r=d(22);d.d(f,"Main",function(){return r["default"]});var u=d(10);d.d(f,"DataCenter",function(){return u["default"]});var q=d(9);d.d(f,"LoginService",function(){return q["default"]});var w=d(31);d.d(f,"TimerService",function(){return w["default"]});var t=d(25);d.d(f,"LaunchScreenView",function(){return t["default"]});var x=d(32);d.d(f,"LoginMaskView",function(){return x["default"]});var v=d(33);d.d(f,"RoundImageView",function(){return v["default"]});var y=d(29);d.d(f,"SoundManager",function(){return y["default"]});var z=d(34);d.d(f,"AuthManager",function(){return z["default"]});var A=d(28);d.d(f,"PayManager",function(){return A["default"]});var B=d(7);d.d(f,"ShareManager",function(){return B["default"]});var C=d(27);d.d(f,"LifeCircleMonitor",function(){return C["default"]});var D=d(26);d.d(f,"NetworkMonitor",function(){return D["default"]});var E=d(14);d.d(f,"Toast",function(){return E["default"]});var F=d(11);d.d(f,"Utils",function(){return F["default"]});var G=d(15);d.d(f,"RewardedVideoAd",function(){return G["default"]});var H=d(16);d.d(f,"BannerAd",function(){return H["default"]});l=d(35);d.n(l);l=d(36);d.n(l);l=d(37);d.n(l);d(38)},function(l,f,d){d.r(f);var k=d(4),h=d(7),e=d(8),c=d(1),a=d(15),b=d(16),g=d(10),p=function(){var b=function(a,g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var g in a)a.hasOwnProperty(g)&&(b[g]=a[g])};return b(a,g)};return function(a,g){function c(){this.constructor=a}b(a,g);a.prototype=null===g?Object.create(g):(c.prototype=g.prototype,new c)}}();l=function(d){function m(){var b=null!==d&&d.apply(this,arguments)||this;b._requests=[];b.socket=c["default"].socket;b.dialogs=[];b.bannerAds=[];b.navigator=c["default"].navigator;return b}p(m,d);m.prototype._onEnable=function(){d.prototype._onEnable.call(this);this.owner.addClickListener(this,this.onThrottleClick,!0)};m.prototype._onViewClick=function(b){switch(b.target.name){case "pop":this.navigator.pop();break;case "popToRoot":this.navigator.popToRootScene()}this.onThrottleClick(b)};m.prototype.onThrottleClick=function(b){};m.prototype._onLoad=function(){this.onLoad()};m.prototype.onLoad=function(){};m.prototype._onAppear=function(){this.showAllBannerAd();this.onAppear()};m.prototype.onAppear=function(){};m.prototype._onDisappear=function(){this.hideAllBannerAd();this.onDisappear()};m.prototype.onDisappear=function(){};m.prototype._destroy=function(){this.offMessageListener();this.offNotificationListener();this.destroyXMR();this.destroyBannerAd();d.prototype._destroy.call(this)};m.prototype._onReceiveMessage=function(b,a){if(this.enabled)this.onReceiveMessage(b,a)};m.prototype._onReceiveSocketError=function(b,a,g){this.onReceiveSocketError(b,a,g)};m.prototype.onReceiveMessage=function(b,a){};m.prototype.onReceiveSocketError=function(b,a,g){};m.prototype.onMessage=function(b,a,g,c){this.socket.on(b,a,g,c)};m.prototype.offMessageListener=function(){this.socket.offAllCaller(this)};m.prototype.sendMessage=function(b,a){this.socket.sendMessage(b,a)};m.prototype.onNotification=function(b,a,g,c){e["default"].on(b,a,g,c)};m.prototype.offNotificationListener=function(){e["default"].offAllCaller(this)};m.prototype.postNotification=function(b,a){e["default"].postNotification(b,a)};m.prototype.onReceiveNotification=function(b,a){};m.prototype._onReceiveNotification=function(b,a){if(this.enabled)this.onReceiveNotification(b,a)};m.prototype.GET=function(b,a,g,c){var e=this;a instanceof Function&&(g=a,a={},c=g);b=k["default"].GET(b,a,function(b){g.call(e,b)},function(b,a){c.call(e,b,a)});this._requests.push(b)};m.prototype.POST=function(b,a,g,c){var e=this;a instanceof Function&&(g=a,a={},c=g);b=k["default"].POST(b,a,function(b){g.call(e,b)},function(b,a){c.call(e,b,a)});this._requests.push(b)};m.prototype.destroyXMR=function(){for(var b=this._requests.length-1;0<=b;b--){var a=this._requests.pop();a.http.readyState!=XMLHttpRequest.DONE&&a.http.abort&&a.http.abort()}};m.prototype.share=function(b,a,g,c,e){var d=this;g instanceof Function&&(e=c,c=g,g={});h["default"].share(b,a,g,function(b){c&&c.call(d,b)},e&&e.bind(this))};m.prototype.shareTitle=function(b,a,g,c){h["default"].shareTitle(b,a,g,c)};m.prototype.shareDefault=function(b,a,c){void 0===b&&(b={});"function"==typeof b&&(c=a=b,b={});this.shareTitle(g["default"].config.game.share_list.randomItem,b,a,c)};m.prototype.showRewardedVideoAd=function(b){a["default"].show(b)};m.prototype.showBannerAd=function(a){a=b["default"].show(a);this.bannerAds.push(a);return a};m.prototype.showAllBannerAd=function(){for(var b=0,a=this.bannerAds.length;b<a;b++)this.bannerAds[b].show()};m.prototype.hideAllBannerAd=function(){for(var b=0,a=this.bannerAds.length;b<a;b++)this.bannerAds[b].hide()};m.prototype.destroyBannerAd=function(){for(var b=0,a=this.bannerAds.length;b<a;b++){var g=this.bannerAds[b];g.hide();g.destroy()}};m.prototype._onShow=function(b){this.onShow(b)};m.prototype.onShow=function(b){};m.prototype._onHide=function(b){this.onHide(b)};m.prototype.onHide=function(b){};m.prototype.popup=function(b){b instanceof Laya.Dialog?(b.popup(),this.dialogs.push(b)):console.error("\u5f53\u524dpopup\u7684\u4e0d\u662fDialog\u5b9e\u4f8b")};m.prototype.closeDialogs=function(){for(var b=0,a=this.dialogs.length;b<a;b++)this.dialogs[b].destroy()};m.prototype.onShareAppMessage=function(){return null};m.prototype.onNetworkChange=function(b){};m.prototype.onSocketClose=function(){};return m}(Laya.Script);f["default"]=l},function(l,f,d){d.r(f);d.d(f,"RequestConfig",function(){return e});var k=d(5),h=function(){var c=function(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var g in a)a.hasOwnProperty(g)&&(b[g]=a[g])};return c(a,b)};return function(a,b){function g(){this.constructor=a}c(a,b);a.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}(),e=function(){function c(){}c.baseURL="";c.token="";c.headers=["Content-Type","application/x-www-form-urlencoded"];c.maxRetryTimes=3;return c}();l=function(c){function a(){var b=c.call(this)||this;b._retryTimes=0;b.http.ontimeout=function(a){b.timeout(a)};return b}h(a,c);a.prototype.sendRequest=function(b,a,c){if(e.baseURL){this._path=b;e.makeParamsHandler&&(a=e.makeParamsHandler(a));console.log("R \x3e\x3e\x3e | "+b+" | "+(a.wxparams||JSON.stringify(a)));var g=[],d;for(d in a)g.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(a[d]));a=g.join("\x26");b=e.baseURL+b;"get"==c&&(b+="?"+a,a=null);this.$url=b;this.$query=a;this.$method=c;this.send(b,a,c,null,e.headers)}else console.error("\u8bf7\u6307\u5b9abaseURL")};a.prototype.GET=function(b,a){this.sendRequest(b,a,"get")};a.prototype.POST=function(b,a){this.sendRequest(b,a,"post")};a.prototype.complete=function(){console.log("R \x3c\x3c\x3c | "+this._path+" | "+this.http.responseText);c.prototype.complete.call(this)};a.prototype.error=function(b){c.prototype.error.call(this,b)};a.prototype.timeout=function(b){this._retryTimes<e.maxRetryTimes?(this._retryTimes++,k["default"].track(k.DataTrackType.HTTPRetry,{c:this.$url,t:this._retryTimes}),setTimeout(function(){this.send(this.$url,this.$query,this.$method,null,e.headers)}.bind(this),500)):this.error(b)};a.GET=function(b,g,c,e){var d=this;void 0===e&&(e=null);var p=new a;p.on(Laya.Event.COMPLETE,this,function(b){d.handleError(b,c,e)});p.on(Laya.Event.ERROR,this,function(b){e&&e.call(d,b||"\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25")});p.GET(b,g);return p};a.POST=function(b,g,c,e){var d=this;void 0===e&&(e=null);var p=new a;p.on(Laya.Event.COMPLETE,this,function(b){d.handleError(b,c,e)});p.on(Laya.Event.ERROR,this,function(b){e&&e.call(d,b||"\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25")});p.POST(b,g);return p};a.handleError=function(b,a,c){b=JSON.parse(b);var g=b.code;200==g?a&&a.call(this,b.value):c&&c.call(this,b.message||"\u8bf7\u6c42\u51fa\u73b0\u9519\u8bef",b.errorcode?b.errorcode:g)};return a}(Laya.HttpRequest);f["default"]=l},function(l,f,d){d.r(f);d.d(f,"DataTrackType",function(){return c});var k=d(6),h=d(4),e=d(1);l=function(){function a(){}a.setup=function(b,a,c){void 0===b&&(b="500624773");void 0===a&&(a="500624774");k["default"].App.init({appID:b,eventID:a,lauchOpts:c})};a.track=function(b,a){!a.gameId&&e["default"].game.gameId&&(a.gameId=e["default"].game.gameId);if(a.data){var g=JSON.parse(a.data);g.T=e["default"].networkMonitor.type;a.data=JSON.stringify(g)}console.log("T | upload | "+JSON.stringify(a));k["default"].Event.stat(b+"",a)};a.trackType=function(b){h["default"].POST("userStatistics",{type:b},null)};a.now=function(){return(new Date).valueOf()};a.startTrackTime=function(b){this.loginCostTime[b]=a.now()};a.stopTrackTime=function(b){var g=this.loginCostTime[b],g=a.now()-g;this.loginCostTime[b]=g;console.warn("T | "+b+" | cost | "+g+" ms")};a.startSocketTime=function(){this.socketCostTime=a.now()};a.stopSocketTime=function(){var b=a.now()-this.socketCostTime;console.warn("T | Socket | cost | "+b+"ms");this.track(c.SocketTimeCost,{data:JSON.stringify({t:b})})};a.startSocketLogin=function(){this.socketLoginTime=a.now()};a.stopSocketLogin=function(){var b=a.now()-this.socketLoginTime;console.warn("T | Socket login | cost | "+b+"ms");this.track(c.SocketLoginTimeCost,{data:JSON.stringify({t:b})})};a.uploadLoginCostTime=function(){var b=JSON.stringify(this.loginCostTime);console.log("T | login | upload | "+b);this.track(c.LoginTimeCost,{data:b})};a.loginCostTime={};a.socketCostTime=0;a.socketLoginTime=0;return a}();f["default"]=l;var c;(function(a){a[a.LoginTimeCost=3001]="LoginTimeCost";a[a.SocketTimeCost=3002]="SocketTimeCost";a[a.SocketLoginTimeCost=3003]="SocketLoginTimeCost";a[a.SocketRetry=3004]="SocketRetry";a[a.HTTPRetry=3005]="HTTPRetry";a[a.Ladder=1001]="Ladder";a[a.FriendBattle=1002]="FriendBattle";a[a.RedPacket=1003]="RedPacket";a[a.PlayOffline=1004]="PlayOffline";a[a.Rank=1004]="Rank";a[a.HallBack=1006]="HallBack";a[a.WithDraw=1007]="WithDraw";a[a.Jump=1008]="Jump";a[a.Change=1009]="Change"})(c||(c={}))},function(l,f,d){function k(b){wx.getNetworkType({success:function(a){b(a.networkType)}})}function h(){var b=wx.getSystemInfoSync();return{adt:encodeURIComponent(b.model),scl:b.pixelRatio,scr:b.windowWidth+"x"+b.windowHeight,lg:b.language,fl:b.version,jv:encodeURIComponent(b.system),tz:encodeURIComponent(b.platform)}}function e(){try{var b="s"+c();wx.setStorageSync(n.prefix+"ssid",b);return b}catch(u){}}function c(b){for(var a=[0,1,2,3,4,5,6,7,8,9],g=10;1<g;g--){var c=Math.floor(10*Math.random()),e=a[c];a[c]=a[g-1];a[g-1]=e}for(g=c=0;5>g;g++)c=10*c+a[g];return(b||"")+(c+""+ +new Date)}function a(){try{var b=getCurrentPages(),a="/";0<b.length&&(a=b.pop().__route__);return a}catch(q){console.log("get current page path error:"+q)}}function b(){var b={dm:"wechat.apps.xx",url:a(),pvi:"",si:"",ty:0};b.pvi=function(){var a;a:{try{a=wx.getStorageSync(n.prefix+"auid");break a}catch(t){}a=void 0}if(!a){var g;a:{try{var e=c();wx.setStorageSync(n.prefix+"auid",e);g=e;break a}catch(t){}g=void 0}a=g;b.ty=1}return a}();b.si=function(){var b;a:{try{b=wx.getStorageSync(n.prefix+"ssid");break a}catch(q){}b=void 0}b||(b=e());return b}();return b}function g(){var b=h();k(function(b){try{wx.setStorageSync(n.prefix+"ntdata",b)}catch(q){}});b.ct=wx.getStorageSync(n.prefix+"ntdata")||"4g";return b}function p(){var b=m.Data.userInfo,a=[],g;for(g in b)b.hasOwnProperty(g)&&a.push(g+"\x3d"+b[g]);b=a.join(";");return{r2:n.app_id,r4:"wx",ext:"v\x3d"+n.version+(null!==b&&""!==b?";ui\x3d"+encodeURIComponent(b):"")}}d.r(f);var n={app_id:"",event_id:"",api_base:"https://pingtas.qq.com/pingd",prefix:"_mta_",version:"1.3.5",stat_share_app:!1,stat_pull_down_fresh:!1,stat_reach_bottom:!1},m={App:{init:function(b){"appID"in b&&(n.app_id=b.appID);"eventID"in b&&(n.event_id=b.eventID);"statShareApp"in b&&(n.stat_share_app=b.statShareApp);"statPullDownFresh"in b&&(n.stat_pull_down_fresh=b.statPullDownFresh);"statReachBottom"in b&&(n.stat_reach_bottom=b.statReachBottom);e();"lauchOpts"in b&&(m.Data.lanchInfo=b.lauchOpts,m.Data.lanchInfo.landing=1)}},Page:{init:function(){var b=getCurrentPages()[getCurrentPages().length-1];b.onShow&&!function(){var a=b.onShow;b.onShow=function(){m.Page.stat();a.call(this,arguments)}}();n.stat_pull_down_fresh&&b.onPullDownRefresh&&!function(){var a=b.onPullDownRefresh;b.onPullDownRefresh=function(){m.Event.stat(n.prefix+"pulldownfresh",{url:b.__route__});a.call(this,arguments)}}();n.stat_reach_bottom&&b.onReachBottom&&!function(){var a=b.onReachBottom;b.onReachBottom=function(){m.Event.stat(n.prefix+"reachbottom",{url:b.__route__});a.call(this,arguments)}}();n.stat_share_app&&b.onShareAppMessage&&!function(){var a=b.onShareAppMessage;b.onShareAppMessage=function(){m.Event.stat(n.prefix+"shareapp",{url:b.__route__});return a.call(this,arguments)}}()},stat:function(){if(""!=n.app_id){var a=[],c=p(),e=[b(),c,g()];m.Data.lanchInfo&&(e.push({ht:m.Data.lanchInfo.scene,rdm:"/",rurl:m.Data.lanchInfo.path}),m.Data.lanchInfo.query&&m.Data.lanchInfo.query._mta_ref_id&&e.push({rarg:m.Data.lanchInfo.query._mta_ref_id}),1==m.Data.lanchInfo.landing&&(c.ext+=";lp\x3d1",m.Data.lanchInfo.landing=0));e.push({rand:+new Date});for(var c=0,d=e.length;c<d;c++)for(var h in e[c])e[c].hasOwnProperty(h)&&a.push(h+"\x3d"+("undefined"==typeof e[c][h]?"":e[c][h]));wx.request({url:n.api_base+"?"+a.join("\x26").toLowerCase()})}}},Event:{stat:function(a,c){if(""!=n.event_id){var e=[],d=b(),h=p();d.dm="wxapps.click";d.url=a;h.r2=n.event_id;var m="undefined"===typeof c?{}:c,f=[],k;for(k in m)m.hasOwnProperty(k)&&f.push(encodeURIComponent(k)+"\x3d"+encodeURIComponent(m[k]));m=f.join(";");h.r5=m;m=0;d=[d,h,g(),{rand:+new Date}];for(h=d.length;m<h;m++)for(var r in d[m])d[m].hasOwnProperty(r)&&e.push(r+"\x3d"+("undefined"==typeof d[m][r]?"":d[m][r]));wx.request({url:n.api_base+"?"+e.join("\x26").toLowerCase()})}}},Data:{userInfo:null,lanchInfo:null}};f["default"]=m},function(l,f,d){function k(c){var a=[],b="",g;for(g in c)a.push(g+"\x3d"+c[g]);a.length&&(b=a.join("\x26"));return b}d.r(f);var h=d(8),e=function(){function c(){this.failHandler=this.successHandler=null;this.inShare=!1;this.shareTime=0;h["default"].on(h.NotificationName.ApplicationShow,this,this.onShow)}c.prototype.onShow=function(a){if(this.successHandler){if(3E3>Date.now()-this.shareTime&&(this.shareTime=0,this.failHandler)){this.failHandler("\u5206\u4eab\u5230\u7fa4\u624d\u53ef\u4ee5\u54e6");this.stopObserve();return}this.successHandler(a);this.successHandler=null;this.stopObserve()}};c.prototype.startObserve=function(a,b){this.shareTime=Date.now();this.successHandler=a;this.failHandler=b};c.prototype.stopObserve=function(){this.failHandler=this.successHandler=null};return c}();l=function(){function c(){}c.makeShareInfo=function(a,b,g,c,e){void 0===b&&(b=this.imageURL);void 0===e&&(e=null);this.makeQueryHandler&&(g=this.makeQueryHandler(g));console.warn("\u5206\u4eab\u51fa\u53bb\u7684\u53c2\u6570\u4e3a"+JSON.stringify(g));return{title:a,imageUrl:b,query:k(g),success:c,fail:function(){e&&e()}}};c.share=function(a,b,g,c,d){void 0===d&&(d=null);var h=b;h||(h=this.getShareImageURL());if(h){this.isShare=!0;this._shareService||(this._shareService=new e);var p=this._shareService;window.wx&&p.startObserve(c,d);py.shareAppMessage(this.makeShareInfo(a,b,g,function(b){p.stopObserve();console.warn("SHARE | "+JSON.stringify(b));c&&c(b)},function(b){p.stopObserve();d&&d(b)}))}else console.error("\u5fc5\u987b\u6307\u5b9a\u5206\u4eab\u56fe\u7247\u5730\u5740\uff0c\u5efa\u8bae\u4f7f\u7528ShareManager.imageURL\u5168\u5c40\u8bbe\u7f6e\u7edf\u4e00\u5206\u4eab\u56fe\u7247")};c.shareTitle=function(a,b,g,c){void 0===c&&(c=null);var e=this.getShareImageURL();e?this.share(a,e,b,g,c):console.error("\u5fc5\u987b\u6307\u5b9a ShareManager.imageURL \u624d\u53ef\u6267\u884c\u6b64\u65b9\u6cd5")};c.getShareInfo=function(a,b,g){py.getShareInfo({shareTicket:a,timeout:6E4,success:function(a){console.log("SHARE | getShareInfo | "+JSON.stringify(a));b&&b(a)},fail:g})};c.getShareImageURL=function(){var a=null;this.makeShareImageURLHandler&&(a=this.makeShareImageURLHandler());"string"!==typeof a&&(a=this.imageURL,console.warn("ShareManager.makeShareImageURLHandler \u5fc5\u987b\u8fd4\u56de string \u7c7b\u578b\u7684\u56fe\u7247\u5730\u5740"));return a};c.checkGroup=!1;c.isShare=!1;c._shareService=null;return c}();f["default"]=l},function(l,f,d){d.r(f);d.d(f,"NotificationName",function(){return h});var k=d(9);l=function(){function e(){}e.on=function(c,a,b,g){return this.defaultCenter.on(c,a,b,g)};e.addLoginNotification=function(c,a){if(k["default"].isLogined)a.call(c);else e.once(h.LoginSuccess,c,a)};e.once=function(c,a,b,g){return this.defaultCenter.once(c,a,b,g)};e.event=function(c,a){return this.defaultCenter.event(c,a)};e.off=function(c,a,b,g){return this.defaultCenter.off(c,a,b,g)};e.offAll=function(c){return this.defaultCenter.offAll(c)};e.offAllCaller=function(c){return this.defaultCenter.offAllCaller(c)};e.postNotification=function(c,a){return this.defaultCenter.event(c,a)};e.defaultCenter=new Laya.EventDispatcher;return e}();f["default"]=l;var h=function(){function e(){}e.ApplicationShow="app-show";e.ApplicationHide="app-hide";e.GameShow="game-show";e.NetworkChanged="network-changed";e.LoginSuccess="login-success";e.GOLD_CHANGE="CHANGE_GOLD";e.RMB_CHANGE="rmb-change";e.START_GAME="start-game";return e}()},function(l,f,d){d.r(f);d.d(f,"LoginConfig",function(){return b});var k=d(10),h=d(14),e=d(5),c=d(4),a=d(8),b=function(){function b(){}b.userId=123456;b.gameId=1004;b.version="1.0";b.release=1;b.requestConfig=0;return b}();l=function(){function g(){}g.login=function(a,g){var c=this;this.token||(this.lastGetUserInfoTime=0);var e={requestUserInfo:6048E5<Date.now()-this.lastGetUserInfoTime};py.login(e,function(e){window.wx||window.BK||e.js_code||(e.js_code="app,"+b.userId);c.loginWith(e,a,g)})};g.loginWith=function(g,d,m){var p=this,f={game_id:b.gameId,game_app_id:b.gameId,version:b.version,release:b.release,is_config:b.requestConfig},n;for(n in g)f[n]=g[n];f.user_token=this.token||"";f=b.makeLoginParamsHandler(f);e["default"].startTrackTime("l");h["default"].showLoading("",!1);c["default"].POST("user_login",f,function(b){p.isLogined=!0;e["default"].stopTrackTime("l");e["default"].uploadLoginCostTime();k["default"].loginData=b;k["default"].user=b;k["default"].config=b.config_list;k["default"].gold.value=k["default"].user.gold=b.member_gold;k["default"].rmb.value=k["default"].user.rmb=b.member_rmb;k["default"].integral.value=k["default"].user.integral=b.member_integral;var g=b.token;c.RequestConfig.token=p.token=g;localStorage.setItem("userTokenKey",g);localStorage.setItem("lastGetUserInfoTime",Date.now()+"");h["default"].hideLoading();k["default"].refreshUserInfo();a["default"].postNotification(a.NotificationName.LoginSuccess);d&&d(b)},function(b,a){2004==a?(c.RequestConfig.token="",p.token="",p.loginWith(g,d,m)):(h["default"].hideLoading(),h["default"].showModal("\u767b\u5f55\u5931\u8d25",b))})};g.isAuthed=!1;g.isLogined=!1;g.lastGetUserInfoTime=Number(localStorage.getItem("lastGetUserInfoTime")||"");g.token=localStorage.getItem("userTokenKey")||"";return g}();f["default"]=l},function(l,f,d){d.r(f);var k=d(11),h=d(13),e=d(4),c=d(1);l=function(){function a(){}a.findLadderById=function(b){return this.loginData.config_list.game.ladder_config.filter(function(a){return a.id==b})[0]};a.makeLadderIconById=function(b){var a="";(b=this.findLadderById(b))&&(a=k["default"].makeIcon(b.icon));return a};a.formatPrize=function(b){b=b.split(",");if(0!=b.length){var a=[];b.forEach(function(b,g){var c=b.split("-");c&&2==c.length&&a.push({type:c[0],value:c[1]})});return a}};a.refreshUserInfo=function(){var b=this;c["default"].lifeCircleMonitor.inForeground&&e["default"].GET("update_chips",{},function(a){void 0!=a.pao_gold&&(b.gold.value=a.pao_gold,b.user.gold=a.pao_gold);void 0!=a.rmb&&(b.rmb.value=a.rmb,b.user.rmb=a.rmb);void 0!=a.integral&&(b.integral.value=a.integral,b.user.integral=a.integral)},function(b){console.warn("\u66f4\u65b0\u7528\u6237\u4fe1\u606f\u5931\u8d25")})};a.CDNURL="https://xgamejuedixiaomie.goxiaochengxu.cn/";a.RESURL="https://xgamejuedixiaomie.goxiaochengxu.cn/";a.showBannerAdWhenDialogPopup=!0;a.gold=new h["default"];a.rmb=new h["default"];a.integral=new h["default"];return a}();f["default"]=l},function(l,f,d){d.r(f);var k=d(10),h=d(12);l=function(){function e(){}e.makeImagesWithFormat=function(c,a,b){for(var g=[];a<b;a++)g.push(c.replace("%i",String(a)));return g};e.toQueryString=function(c){var a=[],b="",g;for(g in c)a.push(g+"\x3d"+c[g]);a.length&&(b=a.join("\x26"));return b};e.makeGenderIcon=function(c){var a="local/common/gay-white.png";"\u7537"==c?a="local/common/boy-white.png":"\u5973"==c&&(a="local/common/girl-white.png");return a};e.findUserByID=function(c,a){var b=c.filter(function(b,c){return b.user_id&&b.user_id==a});if(b.length)return b[0];console.error("");return null};e.makeRoundRectPath=function(c,a,b,g){var e=[];g&h.RectCorner.RectCornerTopLeft?e.push(["moveTo",b,0]):e.push(["moveTo",0,0]);g&h.RectCorner.RectCornerTopRight?(e.push(["lineTo",c-b,0]),e.push(["arcTo",c,0,c,b,b])):e.push(["lineTo",c,0]);g&h.RectCorner.RectCornerBottomRight?(e.push(["lineTo",c,a-b]),e.push(["arcTo",c,a,c-b,a,b])):e.push(["lineTo",c,a]);g&h.RectCorner.RectCornerBottomLeft?(e.push(["lineTo",b,a]),e.push(["arcTo",0,a,0,a-b,b])):e.push(["lineTo",0,a]);g&h.RectCorner.RectCornerTopLeft?(e.push(["lineTo",0,b]),e.push(["arcTo",0,0,b,0,b])):e.push(["lineTo",0,0]);e.push(["closePath"]);return e};e.makeAllCornerRoundRectPath=function(c,a,b){return this.makeRoundRectPath(c,a,b,h.RectCorner.RectCornerAllCorners)};e.formatName=function(c,a){void 0===a&&(a=10);var b=/[^\x00-\xff]/g;if(c.replace(b,"mm").length<=a)return c+"";for(var g=Math.floor(a/2);g<c.length;g++)if(c.substring(0,g).replace(b,"mm").length>=a)return c.substring(0,g)+"...";return c+""};e.makeIcon=function(c,a){void 0===a&&(a=96);if(""==c)return"local/common/avstar.png";if(0==c.indexOf("Game"))return window.BK?c:"";if(0===c.indexOf("http")){var b=c.split("/")||[];return 1<b.length?("0"===b[b.length-1]&&(b[b.length-1]=100<a?"132":"96"),b.join("/")):c+""}if(k["default"].CDNURL)return k["default"].CDNURL+c+"?imageView2/0/w/"+a;console.error("you must assign value to [PaoYa.DataCenter.CDNURL]")};e.makeResourceURL=function(c){if(""==c)return"local/common/avstar.png";if(0===c.indexOf("https"))return c+"";if(k["default"].CDNURL)return k["default"].CDNURL+c;console.error("you must assign value to [PaoYa.DataCenter.CDNURL]")};e.measureWidth=function(c){return Laya.Utils.measureText(c,"Arial").width};return e}();f["default"]=l},function(l,f,d){d.r(f);d.d(f,"PrizeType",function(){return k});d.d(f,"ShareType",function(){return h});d.d(f,"RectCorner",function(){return e});d.d(f,"GameEntryType",function(){return c});d.d(f,"SocketURLType",function(){return a});d.d(f,"RankingType",function(){return b});var k;(function(b){b[b.Gold=1]="Gold";b[b.Money=2]="Money"})(k||(k={}));var h;(function(b){b[b.InviteFriend=1]="InviteFriend";b[b.GroupPK=2]="GroupPK";b[b.GroupRank=3]="GroupRank"})(h||(h={}));var e;(function(b){b[b.RectCornerTopLeft=1]="RectCornerTopLeft";b[b.RectCornerTopRight=2]="RectCornerTopRight";b[b.RectCornerBottomLeft=4]="RectCornerBottomLeft";b[b.RectCornerBottomRight=8]="RectCornerBottomRight";b[b.RectCornerAllCorners=15]="RectCornerAllCorners"})(e||(e={}));var c;(function(b){b[b.Friend=1]="Friend";b[b.Match=2]="Match";b[b.Ladder=3]="Ladder";b[b.Arena=4]="Arena";b[b.Full=5]="Full";b[b.OnlineMatch=6]="OnlineMatch"})(c||(c={}));var a;(function(b){b.TIMING="timing_url";b.GAME="game_url"})(a||(a={}));var b;(function(b){b[b.Score=1]="Score";b[b.Ladder=2]="Ladder";b[b.WIN=8]="WIN"})(b||(b={}))},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}k(e,d);Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(c){this._value=c;this.event(Laya.Event.CHANGED,c)},enumerable:!0,configurable:!0});e.prototype.addObserver=function(c,a){a.call(c,this._value);this.on(Laya.Event.CHANGED,c,a)};e.prototype.removeObserver=function(c,a){this.off(Laya.Event.CHANGED,c,a)};return e}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);l=function(){function d(){}d.show=function(d,e,c,a){void 0===c&&(c=null);void 0===a&&(a=1500);py.showToast({title:d,icon:e,image:c,duration:a,mask:!1,success:function(){},fail:function(){}})};d.hide=function(){py.hideToast()};d.showSuccess=function(d,e){void 0===e&&(e=1500);this.show(d,null,"https://res.xingqiu123.com/wxgame/common/success.png",e)};d.showError=function(d,e){void 0===e&&(e=1500);this.show(d,null,"https://res.xingqiu123.com/wxgame/common/error.png",e)};d.showWarn=function(d,e){void 0===e&&(e=1500);this.show(d,null,"https://res.xingqiu123.com/wxgame/common/warning.png",e)};d.showImage=function(d,e){void 0===e&&(e=1500);this.show(null,null,d,e)};d.showLoading=function(d,e){void 0===d&&(d="");void 0===e&&(e=!0);py.showLoading({title:d,mask:e,success:function(){},fail:function(){}})};d.hideLoading=function(){py.hideLoading()};d.showModal=function(d,e,c,a,b,g){void 0===d&&(d="\u63d0\u793a");void 0===e&&(e="");void 0===c&&(c="\u77e5\u9053\u4e86");void 0===a&&(a=null);void 0===b&&(b="");void 0===g&&(g=null);py.showModal({title:d,content:e,showCancel:b?!0:!1,cancelColor:"#000000",confirmColor:"#3cc51f",cancelText:b,confirmText:c,success:function(b){b.confirm&&a&&a();b.cancel&&g&&g()},fail:function(){}})};return d}();f["default"]=l},function(l,f,d){d.r(f);var k=d(2),h=function(){var e=function(c,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(c,a)};return function(c,a){function b(){this.constructor=c}e(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();l=function(e){function c(a){var b=e.call(this)||this;b.isLoaded=!1;b.createAd(a);return b}h(c,e);c.prototype.createAd=function(a){var b=this;a=py.createRewardedVideoAd({adUnitId:a.adUnitId});a.onLoad(function(a){b.isLoaded=!0;b.event(c.LOAD,a)});a.onError(function(a){b.isLoaded=!1;window.BK&&(a={errMsg:a.msg,errCode:a.code});b.event(c.ERROR,a)});a.onClose(function(a){b.isLoaded=!1;a||(a={isEnded:!0});b.event(c.CLOSE,a);k.SoundManager.onAudioInterruptionEnd()});this.videoAd=a};c.prototype.show=function(){window.BK?this.videoAd.show():this.isLoaded?this.videoAd.show():(this.videoAd.load(),this.once(c.LOAD,this,function(){this.videoAd.show()}))};c.show=function(a){if(window.wx&&!k.DataCenter.adUnitId)console.error("\u8bf7\u5728Main\u4e2d\u8bbe\u7f6eadUnitId\u4e4b\u540e\u518d\u89c2\u770b\u5e7f\u544a");else{this.ad||(this.ad=new c({adUnitId:k.DataCenter.adUnitId}));var b=this.ad;b.offAllCaller(this);b.on(this.LOAD,this,a.onLoad);b.on(this.ERROR,this,a.onError);b.on(this.CLOSE,this,a.onClose);k.SoundManager.onAudioInterruptionBegin();b.show()}};c.LOAD="load_ad";c.ERROR="error_ad";c.CLOSE="close_ad";c.ad=null;return c}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);var k=d(2),h=function(){var e=function(c,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(c,a)};return function(c,a){function b(){this.constructor=c}e(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();l=function(e){function c(a){void 0===a&&(a={});var b=e.call(this)||this;a.adUnitId=a.adUnitId||k.DataCenter.bannerUnitId;a.viewId=a.qqViewId||k.DataCenter.qqViewId;if(!a.style){var g={};window.wx?(g.top=g.left=0,g.width=Laya.Browser.clientWidth||300):window.BK&&(g.x=0,g.y=0);a.style=g}var d=py.createBannerAd(a);d.onLoad(function(a){b.event(c.LOAD,a)});d.onError(function(a){b.event(c.ERROR,a)});if(window.wx){var h=Laya.Browser.clientWidth,m=Laya.Browser.clientHeight;d.onResize(function(g){var e=d.bannerAd;e.style.left=(h-g.width)/2;a.style.top||(e.style.top=m-g.height);b.event(c.RESIZE,[e,g,h,m])})}b.ad=d;return b}h(c,e);c.prototype.show=function(){this.ad.show()};c.prototype.hide=function(){this.ad.hide()};c.prototype.destroy=function(){this.ad.destroy();this.offAllCaller(c)};c.show=function(a){var b=new c(a);b.on(c.LOAD,this,a.onLoad);b.on(c.ERROR,this,a.onError);b.on(c.RESIZE,this,a.onResize);b.show();return b};c.hide=function(a){a.hide()};c.destroy=function(a){a.destroy()};c.LOAD="load_ad";c.ERROR="error_ad";c.RESIZE="re-size";return c}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(){var c=d.call(this)||this;c.params=null;c.sceneName="";c.setupJSONView();c.createJSONView();c._addClickListener();return c}k(e,d);e.prototype.setupJSONView=function(){};e.prototype.createJSONView=function(){var c=this.constructor.JSONView;c&&this.createView(c)};e.prototype._addClickListener=function(){if(this.onClick!==e.prototype.onClick)this.on(Laya.Event.CLICK,this,this._onClick)};e.prototype._onClick=function(c){this.onClick(c)};e.prototype.onClick=function(c){};e.prototype._onAppear=function(){this.onAppear()};e.prototype.onAppear=function(){};e.prototype._onDisappear=function(){this.onDisappear()};e.prototype.onDisappear=function(){};e.prototype._onAdded=function(){d.prototype._onAdded.call(this);this.onAdded()};e.prototype._onRemoved=function(){d.prototype._onRemoved.call(this);this.onRemoved()};e.prototype.onAdded=function(){};e.prototype.onRemoved=function(){};e.prototype.open=function(c,a){void 0===c&&(c=!1);this.params=a;d.prototype.open.call(this,c,a)};return e}(Laya.View);f["default"]=l},function(l,f,d){d.r(f);var k=d(2),h=d(16),e=function(){var c=function(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return c(a,b)};return function(a,b){function d(){this.constructor=a}c(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();l=function(c){function a(){var b=c.call(this)||this;b.showBannerAdWhenDialogPopup=!0;b.createJSONView();return b}e(a,c);a.prototype.createJSONView=function(){var b=this.constructor.JSONView;b&&this.createView(b)};a.prototype._onAdded=function(){c.prototype._onAdded.call(this);this.onAdded();this._showBannerAd()};a.prototype.onAdded=function(){};a.prototype._onRemoved=function(){c.prototype._onRemoved.call(this);this.onRemoved();this._hideBannerAd()};a.prototype.onRemoved=function(){};a.prototype._showBannerAd=function(){this.showBannerAdWhenDialogPopup&&k.DataCenter.showBannerAdWhenDialogPopup&&(this.bannerAd=h["default"].show({}))};a.prototype._hideBannerAd=function(){if(this.bannerAd){var b=this.bannerAd;h["default"].hide(b);h["default"].destroy(b)}};return a}(Laya.Dialog);f["default"]=l},function(l,f,d){d.r(f);var k=d(10),h=function(){var c=function(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return c(a,b)};return function(a,b){function d(){this.constructor=a}c(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),e={TurnTableView:"common/GameResult/TurnTableView",GameResultView:"common/GameResult/GameResultView",IFHostView:"common/InviteFriend/IFHostView",IFMemberView:"common/InviteFriend/IFMemberView",IntegralMallView:"common/Mall/IntegralMallView",MatchView:"common/Match/MatchView",MatchGradeView:"common/Match/MatchGradeView",RankView:"common/Rank/RankView",RankGroupView:"common/Rank/RankGroupView",QTRoomView:"common/QTRoom/QTRoomView",HomeView:"HomeView",FBView:"common/InviteFriend/FBView",NewMatchView:"common/NewMatch/NewMatchView",PersonalView:"common/Personal/PersonalView",NewGameResultView:"common/GameResult/NewGameResultView"};l=function(c){function a(){var b=c.call(this)||this;b.scenes=[];return b}h(a,c);a.prototype.popup=function(b,a,c,d,e){void 0===e&&(e=!0);Laya.Scene.load(this.makeDialogName(b),Laya.Handler.create(null,function(b){b.isModal=!0;b.isShowEffect=!1;b.params=a;b.open(e,a);c&&c.runWith(b)}),d)};a.prototype.push=function(b,a,c,d,e,h){this._open(b,a,c,d,e,h,!0)};a.prototype.pop=function(){k["default"].refreshUserInfo();this.scenes.pop().close("pop");this.activeScene(this.scenes[this.scenes.length-1])};a.prototype.popToLastScene=function(b){};a.prototype.findSceneByName=function(b){for(var a=null,c=this.scenes.length-1;0<=c;c--){var d=this.scenes[c];if(-1!=d.sceneName.indexOf(b)){a=d;break}}return a};a.prototype.popToScene=function(b){k["default"].refreshUserInfo();for(var a=this.scenes.length;a--;0<=a){var c=this.scenes[a];if(c.sceneName===b){this.activeScene(c);break}else this.scenes.pop().close("pop")}};a.prototype.activeScene=function(b){!b.visible&&(b.visible=!0);this.visibleScene=b;this._onAppear()};a.prototype.popToRootScene=function(){k["default"].refreshUserInfo();if(1!=this.scenes.length){for(;1<this.scenes.length;)this.scenes.pop().close("pop");this.activeScene(this.scenes[this.scenes.length-1])}};a.prototype.present=function(b,a,c,d,e,h){this._open(b,a,c,d,e,h,!1)};a.prototype.dismiss=function(){this.pop()};a.prototype.replace=function(b,a){for(var c,d=this.scenes.length-1;0<=d;d--)if(c=this.scenes[d],c.destroy(),this.scenes.pop(),c.sceneName==b){this.visibleScene=null;this.push(b,a);return}console.error("\u9519\u8bef\u7684:"+b)};a.prototype.replaceSceneWith=function(b,a,c){var d=this.scenes.indexOf(b);if(0>d)console.error("\u6307\u5b9a\u7684scene\u672a\u5305\u542b\u5728navigator\u4e2d");else{for(var e=this.scenes.length-1;e>=d;e--)b=this.scenes[e],b.destroy(),this.scenes.pop();this.visibleScene=null;this.push(a,c)}};a.prototype.visibleSceneIs=function(b){return-1<this.visibleScene.sceneName.indexOf(b)};a.prototype.makeSceneName=function(b){return e[b]?"scenes/"+e[b]+".scene":a.scenesMap[b]?a.scenesMap[b]+".scene":"gamescenes/"+b+".scene"};a.prototype.makeDialogName=function(b){return 0==b.indexOf("/")?"gamescenes"+b+".scene":"scenes/dialog/"+b+".scene"};a.prototype._open=function(b,a,c,d,e,h,f){void 0===f&&(f=!0);var g=[];c instanceof Array?g=g.concat(c):"string"==typeof c?g.push(c):c instanceof Laya.Handler&&(h=e=d=c);g.push(this.makeSceneName(b));Laya.Scene._prepareHandler=h;Laya.Scene.open(g,!1,a,Laya.Handler.create(this,function(a){0<this.scenes.length&&(this.scenes[this.scenes.length-1].visible=!f,this._onDisappear());a.autoDestroyAtClosed=!0;a.sceneName=b;this.visibleScene=a;this.scenes.push(a);this._onLoad();this._onAppear();d&&d.runWith(a)}),e)};a.setupLoadingPage=function(b,a){var c=b?"scenes/common/Loading/LoadingView.scene":"scenes/common/Loading/LoadWaitingView.scene",d=Laya.Scene._loadPage;d&&d.url==c||Laya.Scene.load(c,Laya.Handler.create(this,function(b){var c=Laya.stage,d=Laya.Browser.width/c.designWidth;b.y=Math.floor((Laya.Browser.height-c.designHeight*d>>1)/d);Laya.Scene.setLoadingPage(b);a&&a()}))};a.adjustViewPosition=function(b){var a=Laya.stage,c=Laya.Browser.width/a.designWidth;b.y=Math.floor((Laya.Browser.height-a.designHeight*c>>1)/c)};a.prototype._onReceiveMessage=function(b,a,c,d){this._dispatchEvent("_onReceiveMessage",b,a)};a.prototype._onReceiveSocketError=function(b,a,c){this._dispatchEvent("_onReceiveMessage",b,a,c)};a.prototype._onReceiveNotification=function(b,a){this._dispatchEvent("_onReceiveNotification",b,a)};a.prototype._onReceiveSocketClose=function(){this.visibleScene&&(this.visibleScene._components||[]).forEach(function(b){if(b.onSocketClose)b.onSocketClose()})};a.prototype._onReceiveNetworkChange=function(b){this._dispatchEvent("onNetworkChange",b)};a.prototype.onShareAppMessage=function(){if(this.visibleScene){var b=null;(this.visibleScene._components||[]).forEach(function(a){a.onShareAppMessage&&(b=a.onShareAppMessage())});return b}};a.prototype._onShow=function(b){this._dispatchEvent("_onShow",b)};a.prototype._onHide=function(b){this._dispatchEvent("_onHide",b)};a.prototype._onLoad=function(){this._dispatchEvent("_onLoad")};a.prototype._onAppear=function(){this._dispatchEvent("_onAppear")};a.prototype._onDisappear=function(){this._dispatchEvent("_onDisappear")};a.prototype._dispatchEvent=function(b,a,c,d,e,h){this.visibleScene&&this.visibleScene.dispatchLifeCycleEvent(b,a,c,d,e,h)};a.scenesMap={};return a}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);d.d(f,"ClientConfig",function(){return a});l=d(21);var k=d(14),h=d(5),e=d(1),c=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),a=function(){function b(){}b.watchDogTime=5;b.maxRetryTime=3;return b}();d=function(b){function d(a){void 0===a&&(a=null);a=b.call(this,a)||this;a.msgsSending=[];a.msgsSent=[];a.map={};return a}c(d,b);d.prototype.sendMessage=function(b,a){!a.game_id&&e["default"].game&&(a.game_id=e["default"].game.gameId);a.command=b;var c=(new Date).valueOf();a.m_id=c;this.map[c]=void 0==this.map[c]?0:this.map[c]++;c=JSON.stringify(a);if(this.connected){"heartbeat"!==b&&console.log("S \x3e\x3e\x3e | "+b+" | "+JSON.stringify(a));this.send(c);for(var g=!0,h=d.ignoreCmds,f=0;f<h.length;f++){var k=h[f];if(b===k){g=!1;break}}h=d._ignoreCmds;for(f=0;f<h.length;f++)if(k=h[f],b===k){g=!1;break}g&&this.msgsSent.push(c)}else this.msgsSending.push({cmd:b,params:a}),!this.isReconnecting&&this.url&&this._startReconnect(),console.warn("\u7f13\u5b58socket\u547d\u4ee4\uff0c\u7b49\u5f85\u8fde\u63a5\u6210\u529f\u540e\u518d\u6b21\u53d1\u9001")};d.prototype.handleMessage=function(a){b.prototype.handleMessage.call(this,a);a=JSON.parse(a);var c=a.command,e=a.value,g=a.code,h=a.message||"\u8bf7\u6c42\u51fa\u9519";"heartbeat"!==c&&console.log("S \x3c\x3c\x3c | "+c+" | "+JSON.stringify(e));if(c==d.LOGIN)this.onLogin();this.event(c,[e,g,h]);this.dispatchResultToNavigator(c,e,g,h,a.errorcode);this.removeMsg(a)};d.prototype.dispatchResultToNavigator=function(b,a,c,g,h){200!=c?(e["default"].navigator._onReceiveSocketError(b,h,g),console.error("S \x3c\x3c\x3c | "+b+" | "+h+" | "+g)):0>d.ignorePathThroughCmds.indexOf(b)&&e["default"].navigator._onReceiveMessage(b,a)};d.prototype.onLogin=function(){var b=this;console.log("WebSocket\u767b\u5f55\u6210\u529f");console.log("S: | sending | msgs: "+this.msgsSending.length+"\u4e2a");this.msgsSending.forEach(function(a){b.sendMessage(a.cmd,a.params)});this.msgsSending.length=0;this.startWatchDog();this.startHeartBeat()};d.prototype.startWatchDog=function(){Laya.timer.loop(a.watchDogTime,this,this.checkCmd)};d.prototype.stopWatchDog=function(){this.msgsSent.length=0;Laya.timer.clear(this,this.checkCmd)};d.prototype.checkCmd=function(){var b=this,c=(new Date).valueOf();this.msgsSent.forEach(function(d,e){var g=JSON.parse(d);g.m_id&&5E3<c-g.m_id&&(g.retryTime<a.maxRetryTime?(h["default"].track(h.DataTrackType.SocketRetry,{c:g.command,t:g.retryTime}),b.sendMessage(g.command,g)):(b.event(g.command,[{},-1,"\u8bf7\u6c42\u8d85\u65f6"]),console.error("\u547d\u4ee4 "+g.command+" \u8bf7\u6c42\u8d85\u65f6\uff0c\u5982\u6709\u8bef\u62a5\uff0c\u8bf7\u5728Main\u4e2d\u6dfb\u52a0ignoreCmds\u53c2\u6570")),b.removeMsg(g))})};d.prototype.removeMsg=function(b){for(var a=0;a<this.msgsSent.length;a++){var c=JSON.parse(this.msgsSent[a]);c.m_id==b.m_id&&(this.msgsSent.splice(a,1),delete this.map[c.m_id])}};d.prototype._onClose=function(a){b.prototype._onClose.call(this,a);e["default"].navigator._onReceiveSocketClose();this.stopHeartBeat();this.stopWatchDog()};d.prototype.startHeartBeat=function(){Laya.timer.loop(15E3,this,this.handleHeartBeat)};d.prototype.stopHeartBeat=function(){Laya.timer.clear(this,this.handleHeartBeat)};d.prototype.handleHeartBeat=function(){this.sendMessage(d.HEART_BEAT,{})};d.prototype.onReconnecting=function(a,c){b.prototype.onReconnecting.call(this,a,c);k["default"].showLoading("\u8fde\u63a5\u4e2d("+a+"/"+c+")",!0)};d.prototype.onReconnectStart=function(){b.prototype.onReconnectStart.call(this);this.stopHeartBeat();k["default"].showLoading("\u6b63\u5728\u8fde\u63a5...")};d.prototype.onReconnectEnd=function(){b.prototype.onReconnectEnd.call(this);k["default"].hideLoading();k["default"].showSuccess("\u8fde\u63a5\u6210\u529f",1500)};d.prototype.onReconnectFail=function(){b.prototype.onReconnectFail.call(this);k["default"].hideLoading();k["default"].showSuccess("\u8fde\u63a5\u5931\u8d25",1500)};d.ignoreCmds=[];d._ignoreCmds="betpk startmatch joinmatch cancelmatch matchagain cancelagain promotionenroll cancelenroll laddermatch cancelladdermatch demandpk matchreject sharestartgame wheel_index qq_join_room receive_invite".split(" ");d.ignorePathThroughCmds=["heartbeat"];d.HEART_BEAT="heartbeat";d.DISCONNECT="disconnect";d.LEAVE_ROOM="leave_room";d.LOGIN="login";d.MATCH_SUCCESS="matchsuccess";d.MATCH_FAIL="matchfail";d.MATCH_JOIN="joinmatch";d.MATCH_CANCEL="cancelmatch";d.LADDER_MATCH_JOIN="laddermatch";d.LADDER_MATCH_CANCEL="cancelladdermatch";d.GAME_START_MATCH="startmatch";d.GAME_START_GAME="startpkgame";d.GAME_START_PK="startpk";d.GAME_BET="betpk";d.GAME_END_PK="endpk";d.GAME_END_PKGAME="endpkgame";d.AGIAN_SEND="matchagain";d.AGAIN_REJECT="matchreject";d.AGAIN_CANCAL="cancelagain";d.CHAMPIONSHIP_JION="promotionenroll";d.CHAMPIONSHIP_CANCEL="cancelenroll";d.CHAMPIONSHIP_UPDATE_ROOM_COUNT="updateCount";d.CHAMPIONSHIP_UPDATE_TOTAL_COUNT="updatecurUserCount";d.SHARE_START_GAME="sharestartgame";d.SHARE_INVITE_FRIEND="invite_friend";d.SHARE_RECEIVE_INVITE="receive_invite";d.GROUP_JOIN_ROOM="groupjoinroom";d.GROUP_ROOM_STATUS="grouproomStatus";return d}(l["default"]);f["default"]=d},function(l,f,d){d.r(f);d.d(f,"SocketConfig",function(){return c});var k=d(5),h=d(1),e=function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),c=function(){function a(){}a.zone="";return a}();l=function(a){function b(b){var c=a.call(this)||this;c.url=b;c.isReconnecting=!1;c.reconnectTimes=0;return c}e(b,a);Object.defineProperty(b.prototype,"canReconnect",{get:function(){var b=h["default"].networkMonitor,a=h["default"].lifeCircleMonitor;console.log("SOCKET\u662f\u5426\u8fde\u63a5:    "+(this.connected?"\u662f":"\u5426"));console.log("\u662f\u5426\u5728\u524d\u53f0:        "+(a.inForeground?"\u662f":"\u5426"));console.log("\u7f51\u7edc\u662f\u5426\u8fde\u63a5:      "+(b.isConnected?"\u662f":"\u5426"));console.log("\u662f\u5426\u6b63\u5728\u91cd\u8fde:      "+(this.isReconnecting?"\u662f":"\u5426"));return!this.connected&&a.inForeground&&b.isConnected&&!this.isReconnecting},enumerable:!0,configurable:!0});b.prototype.addObserver=function(){};b.prototype.changeUrl=function(b){var a=this;b!=this.url&&(this.url=b,this.isReconnecting&&this._stopReconnect(),this.connected&&(this._connected=!1,this.close()),Laya.timer.once(500,this,function(){a.connect()}))};b.prototype._onOpen=function(b){a.prototype._onOpen.call(this,b);console.log("S | OPEN: | "+JSON.stringify(b));this.isReconnecting&&(this._stopReconnect(),this.onReconnectEnd())};b.prototype._onClose=function(b){a.prototype._onClose.call(this,b);console.log("S | CLOSE: | "+JSON.stringify(b))};b.prototype._onMessage=function(b){a.prototype._onMessage.call(this,b);b&&b.data&&this.handleMessage(b.data)};b.prototype._onError=function(b){a.prototype._onError.call(this,b);console.log("S | Error: | "+JSON.stringify(b))};b.prototype.handleMessage=function(b){};b.prototype.connect=function(){this.isReconnecting||this.connected||this.connectByUrl(this.url)};b.prototype.connectByUrl=function(b){k["default"].startSocketTime();this.url=b;a.prototype.connectByUrl.call(this,b)};b.prototype.startWatchDog=function(){Laya.timer.loop(5E3,this,this.handleWatchDog)};b.prototype.handleWatchDog=function(){this.connected?this.stopWatchDog():this._startReconnect()};b.prototype.stopWatchDog=function(){Laya.timer.clear(this,this.handleWatchDog)};b.prototype._startReconnect=function(a){void 0===a&&(a=b.reconnectConfig.interval);this.canReconnect&&(this.reconnectTimes=0,this._reconnect(),this.onReconnectStart(),this.isReconnecting=!0,Laya.timer.loop(1E3*a,this,this._reconnect))};b.prototype._stopReconnect=function(){this.isReconnecting&&(this.isReconnecting=!1,this.reconnectTimes=0,Laya.timer.clear(this,this._reconnect))};b.prototype._reconnect=function(){if(this.connected)this._stopReconnect(),this.onReconnectEnd();else{var a=b.reconnectConfig;this.reconnectTimes<a.total?(this.connect(),this.reconnectTimes++,this.onReconnecting(this.reconnectTimes,a.total),this.reconnectTimes>a.total/2&&(Laya.timer.clear(this,this._reconnect),Laya.timer.loop(1E3*a.duration,this,this._reconnect))):(this._stopReconnect(),this.onReconnectFail())}};b.prototype.onReconnecting=function(a,c){this.event(b.RECONNECT_PROGRESS,[a,c])};b.prototype.onReconnectStart=function(){this.event(b.RECONNECT_START,[this.reconnectTimes,b.reconnectConfig.total])};b.prototype.onReconnectEnd=function(){this.event(b.RECONNECT_END)};b.prototype.onReconnectFail=function(){this.event(b.RECONNECT_FAIL)};b.reconnectConfig={total:3,interval:3,duration:8};b.RECONNECT_START="socket.reconnect.start";b.RECONNECT_END="socket.reconnect.end";b.RECONNECT_FAIL="socket.reconnect.fail";b.RECONNECT_PROGRESS="socket.reconnect.progress";return b}(Laya.Socket);f["default"]=l},function(l,f,d){d.r(f);l=d(23);var k=d(14),h=d(4),e=d(26),c=d(27),a=d(21),b=d(10),g=d(5),p=d(28),n=d(8),m=d(20),r=d(12),u=d(1),q=d(9),w=d(7),t=d(29),x=d(30),v=d(25),y=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();d=function(d){function f(c){var e=d.call(this,c)||this;e.params=c;c.gameId||console.error("\u521d\u59cb\u5316\u65f6\u5fc5\u987b\u4f20\u5165gameId");c.baseURL||console.error("\u521d\u59cb\u5316\u65f6\u5fc5\u987b\u4f20\u5165baseURL");c.zone||console.error("\u521d\u59cb\u5316\u65f6\u5fc5\u987b\u4f20\u5165zone");e.gameId=c.gameId;e.params.rankingType=e.params.rankingType||r.RankingType.Score;void 0!=e.params.showBannerAdWhenDialogPopup&&(b["default"].showBannerAdWhenDialogPopup=e.params.showBannerAdWhenDialogPopup);u["default"].game=e;a.SocketConfig.zone=c.zone;p["default"].offerId=c.offerId;e.init();return e}y(f,d);f.prototype.init=function(){u["default"].networkMonitor=this.networkMonitor=new e["default"];u["default"].lifeCircleMonitor=this.lifeCircleMonitor=new c["default"];this._addNotificationCenterListener();this._configHTTP();this._configLogin();this._configShareManager();this._configSoundManager();Laya.Browser.onMiniGame&&g["default"].setup(this.params.mtaID,this.params.mtaEventID,this.launchOption);this.setupOthers()};f.prototype.loadRes=function(){var a=this,c=function(){v["default"].setTips("\u6b63\u5728\u8fde\u63a5...");v["default"].setTips("\u51c6\u5907\u5c31\u7eea");a.setupLoadingView(function(){a.initRootScene(a.launchOption,a.isFirstLaunch);v["default"].hide()})},d=function(b){v["default"].setTips("\u6b63\u5728\u767b\u5f55...");q["default"].login(b,function(){k["default"].showModal("\u63d0\u793a","\u767b\u5f55\u5931\u8d25","\u91cd\u8bd5",function(){d(b)})})},e=function(){d(function(){c()})};x["default"].preload(Laya.Handler.create(this,function(){if(b["default"].GAMEPREPARE){var a=b["default"].GAMEPREPARE;"function"==typeof a?(a(),e()):"object"==typeof a&&(a.async?a.async(function(){e()}):(a.sync(),e()))}else e()}),Laya.Handler.create(this,function(b){v["default"].setProgress(b)},null,!1))};f.prototype._addNotificationCenterListener=function(){n["default"].on(n.NotificationName.ApplicationShow,this,this._onShow);n["default"].on(n.NotificationName.ApplicationHide,this,this._onHide);n["default"].on(n.NotificationName.NetworkChanged,this,this._handleNetworkChange)};f.prototype._configHTTP=function(){m["default"].ignoreCmds=this.params.ignoreCmds||[];h.RequestConfig.baseURL=this.params.baseURL;if(this.launchOption&&this.launchOption.referrerInfo&&this.launchOption.referrerInfo.extraData){var b=this.launchOption.referrerInfo.extraData.baseURL;b&&(h.RequestConfig.baseURL=b)}var a=this;h.RequestConfig.makeParamsHandler=function(b){!b.user_token&&h.RequestConfig.token&&(b.user_token=h.RequestConfig.token);!b.game_id&&a.gameId&&(b.game_id=a.gameId);return{wxparams:JSON.stringify(b)}}};f.prototype._configLogin=function(){var b=this.params;q.LoginConfig.userId=b.userId;q.LoginConfig.gameId=b.gameId;q.LoginConfig.version=b.version;q.LoginConfig.release=b.release;var a=this;q.LoginConfig.makeLoginParamsHandler=function(b){a.launchOption&&a.launchOption.query&&(b.share_id=a.launchOption.query.id||0,b.share_type=a.launchOption.query.type||0,b.launch_info=a.launchOption||"");if(a.launchOption&&a.launchOption.referrerInfo&&a.launchOption.referrerInfo.extraData){var c=a.launchOption.referrerInfo.extraData;b.from_game_id=c.fid||0;b.from_game_id_type=c.jType||""}return b};this.launchOption&&this.launchOption.referrerInfo&&this.launchOption.referrerInfo.extraData&&(b=this.launchOption.referrerInfo.extraData.token)&&(q["default"].token=b)};f.prototype._configShareManager=function(){w["default"].makeQueryHandler=function(a){a.id=b["default"].user.id;return a}};f.prototype._configSoundManager=function(){var b=this;py.onAudioInterruptionBegin(function(){console.log("Audio | interrupt | begin");window.wx&&(b.lifeCircleMonitor.inForeground=!1);t["default"].onAudioInterruptionBegin()});py.onAudioInterruptionEnd(function(){console.log("Audio | interrupt | end");window.wx&&(b.lifeCircleMonitor.inForeground=!0);t["default"].onAudioInterruptionEnd()})};f.prototype._initClient=function(a,c){console.warn("\u521d\u59cb\u5316WebSocket");var d=b["default"].loginData.game_url;d||console.error("\u8bf7\u9a8c\u8bc1game_url\u662f\u5426\u6b63\u786e");Laya.Render.isConchApp&&(d=b["default"].loginData.app_game_url);var e=u["default"].socket=this.socket=new m["default"](d+this.params.zone);e.on(Laya.Event.OPEN,this,function(){g["default"].stopSocketTime();var a=b["default"].user.id;a||console.error("user_id\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u9519\u8bef");g["default"].startSocketLogin();console.log("\u5f00\u59cbWebSocket\u767b\u5f55");e.sendMessage("login",{user_id:a})});e.once(m["default"].LOGIN,this,function(){Laya.timer.clear(this,h);k["default"].hideLoading();a&&a();g["default"].stopSocketLogin()});k["default"].showLoading("",!1);e.connect();var h=function(){e.close();c&&c()};Laya.timer.once(15E3,this,h)};f.prototype._changeClientURL=function(a){void 0===a&&(a=r.SocketURLType.GAME);var c=b["default"].loginData[a];Laya.Render.isConchApp&&(c=b["default"].loginData["app_"+a]);a=c+this.params.zone;a!=this.socket.url&&(console.warn("\u5f00\u59cb\u5207\u6362\u670d\u52a1\u5668\u5730\u5740\uff0c\u65e7\u5730\u5740\u4e3a"+this.socket.url+" | \u65b0\u5730\u5740\u4e3a"+a),this.socket.changeUrl(a))};f.prototype._onShow=function(b){if(this.socket){this.isFirstLaunch=!1;this.launchOption=b;var a=b.query.type,c=this;a==r.ShareType.InviteFriend||a==r.ShareType.GroupPK?q["default"].login(function(){c._changeClientURL();c.initRootScene(c.launchOption,c.isFirstLaunch)},null):(c.initRootScene(c.launchOption,c.isFirstLaunch),this.socket._startReconnect());this.navigator._onShow(b);this.onShow(b);t["default"].onShow()}};f.prototype._onHide=function(b){this.socket&&(this.navigator._onHide(b),this.onHide(b),t["default"].onHide())};f.prototype.onShow=function(b){};f.prototype.onHide=function(b){};f.prototype.setupLoadingView=function(b){b()};f.prototype.setupOthers=function(){};f.prototype._handleNetworkChange=function(b){this.navigator._onReceiveNetworkChange(b);this.handleNetworkChange(b)};f.prototype.handleNetworkChange=function(b){};return f}(l["default"]);f["default"]=d},function(l,f,d){d.r(f);var k=d(10),h=d(24),e=d(1),c=d(14),a=d(19),b=d(25),g=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();l=function(d){function f(b){var a=d.call(this)||this;a.params=b;a.gameId=1001;a.isLogined=!1;a.isAuthed=!1;a.loadNetworkRes=!1;a.isFirstLaunch=!0;a.params.debug=a.params.debug||!1;a.gameId=b.gameId;a.isMiniGame&&(a.loadNetworkRes=void 0==a.params.loadNetworkRes?!0:a.params.loadNetworkRes);a.initLaya();k["default"].RESURL="https://xgamejuedixiaomie.goxiaochengxu.cn/"+a.gameId+"/";k["default"].adUnitId=b.adUnitId;k["default"].bannerUnitId=b.bannerUnitId;k["default"].qqViewId=b.qqViewId||1003;a.configNavigator();a.setupConfig();a.initLaunchOption();a.checkUpdate();Laya.timer.callLater(a,a.initPlatform);return a}g(f,d);Object.defineProperty(f.prototype,"isMiniGame",{get:function(){return py.isMiniGame()&&!Laya.Render.isConchApp},enumerable:!0,configurable:!0});f.prototype.initLaya=function(){var a=this.params.width||1334,c=this.params.height||750,d=this.params;window.Laya3D?Laya3D.init(a,c):Laya.init(a,c,d.webGL||Laya.WebGL);Laya.Physics&&Laya.Physics.enable();this.params.debug&&(d.showStat&&Laya.Stat.show(),(d.showDebugTool||"true"==Laya.Utils.getQueryString("debug"))&&Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable());a=Laya.stage;c=Laya.Stage;a.alignH=d.alignH||c.ALIGN_CENTER;a.alignV=d.alignV||c.ALIGN_MIDDLE;void 0==d.portrait||"portrait"==d.portrait?(a.screenMode=c.SCREEN_VERTICAL,a.scaleMode=d.scaleMode||c.SCALE_FIXED_WIDTH):(a.screenMode=c.SCREEN_HORIZONTAL,a.scaleMode=d.scaleMode||c.SCALE_FIXED_HEIGHT);d=new Laya.Sprite;c=Laya.Browser;d.graphics.drawRect(0,0,c.width,c.height,"#000000");a.addChild(d);this._setupResLoadConfig();Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,function(){b["default"].show();Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.loadRes))}),Laya.ResourceVersion.FILENAME_VERSION)};f.prototype.initLaunchOption=function(){var a=py.getLaunchOptionsSync();a.referrerInfo=a.referrerInfo||{extraData:{}};a.referrerInfo.extraData=a.referrerInfo.extraData||{};console.warn("LAUNCH | "+JSON.stringify(a));this.launchOption=a};f.prototype.configNavigator=function(){e["default"].navigator=this.navigator=new a["default"];var b=Laya.Scene.root;if(b){var c=function(){a["default"].adjustViewPosition(this)};b.on(Laya.Event.RESIZE,b,c);c.call(b)}};f.prototype._setupResLoadConfig=function(){var a=this;Laya.loader.retryNum=3;Laya.loader.retryDelay=2E3;Laya.loader.maxLoader=5;if(Laya.MiniAdpter){var b=Laya.MiniAdpter.nativefiles||[];b.push("local");Laya.MiniAdpter.nativefiles=b}Laya.URL.formatURL&&(Laya.URL.formatURLCopy=Laya.URL.formatURL);Laya.URL.formatURL=function(b){Laya.URL.formatURLCopy&&(b=Laya.URL.formatURLCopy(b));a.loadNetworkRes&&0<=b.indexOf("remote/")&&0>b.indexOf("http")&&(b=k["default"].RESURL+b);return b};Laya.URL.exportSceneToJson=!0};f.prototype.initPlatform=function(){var a=this;py.init();py.onShareAppMessage(function(){var b=e["default"].navigator.onShareAppMessage();return b?b:a.onShareAppMessage()})};f.prototype.checkUpdate=function(){var a=new h["default"];a.on(h["default"].HAS_UPDATE,this,function(){});a.on(h["default"].UPDATE_READY,this,function(a){c["default"].showModal("\u63d0\u793a","\u65b0\u7248\u672c\u4e0b\u8f7d\u6210\u529f","\u91cd\u542f",function(){a&&a()})});a.on(h["default"].UPDATE_FAIL,this,function(){})};f.prototype.onShareAppMessage=function(){return null};f.prototype.exit=function(){py.exit()};f.prototype.initRootScene=function(a,b){};f.prototype.setupConfig=function(){};return f}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(){var c=d.call(this)||this,a=py.getUpdateManager();a.onCheckForUpdate(function(a){console.warn("\u5f53\u524d | "+(a.hasUpdate?"\u6709":"\u65e0")+" | \u65b0\u7248\u672c");a.hasUpdate&&c.event(e.HAS_UPDATE)});a.onUpdateReady(function(){c.event(e.UPDATE_READY,function(){a.applyUpdate()})});a.onUpdateFailed(function(){c.event(e.UPDATE_FAIL)});return c}k(e,d);e.HAS_UPDATE="HAS_UPDATE";e.UPDATE_READY="UPDATE_READY";e.UPDATE_FAIL="UPDATE_FAIL";return e}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);var k=d(19),h=function(){var d=function(c,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return d(c,a)};return function(c,a){function b(){this.constructor=c}d(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();l=function(d){function c(){var a=d.call(this)||this;a.setup();return a}h(c,d);c.prototype.setup=function(){this.size(1334,750);var a=new Laya.Box;a.size(1334,750);a.cacheAs="normal";this.addChild(a);var b=new Laya.Image("local/loading/progress-bg.png");b.centerX=0;b.bottom=122;a.addChild(b);b=new Laya.Label("\u73a9\u6e38\u620f\u4eab\u4e50\u8da3,\u597d\u53cb\u90fd\u5728\u73a9\u7684\u5c0f\u6e38\u620f\u4e50\u56ed");b.color="#227fb3";b.fontSize=28;b.centerX=0;b.bottom=70;a.addChild(b);a=new Laya.Image("local/loading/progress-bar.png");a.centerX=0;a.bottom=122;this.addChild(a);this._imgProgress=a;b=new Laya.Sprite;b.graphics.drawRect(0,0,0,77,"#ff0000");this._imgProgressMask=a.mask=b;a=new Laya.Label("0%");a.color="#ffffff";a.fontSize=30;a.centerX=0;a.bottom=140;this.addChild(a);this._lblProgress=a};Object.defineProperty(c.prototype,"progress",{get:function(){return this._progress},set:function(a){a!=this._progress&&(this._progress=a,this._imgProgressMask.graphics.clear(),this._imgProgressMask.graphics.drawRect(0,0,a*this._imgProgress.width,this._imgProgress.height,"#ff0000"))},enumerable:!0,configurable:!0});c.setProgress=function(a){this.ins&&(this.ins.progress=a,this.setTips(Math.ceil(100*a)+"%"))};c.setTips=function(a){this.ins._lblProgress.text=a};c.show=function(){var a=new c;k["default"].adjustViewPosition(a);a.zOrder=999;Laya.stage.addChild(a);this.ins=a};c.hide=function(){this.ins&&this.ins.destroy()};return c}(Laya.View);f["default"]=l},function(l,f,d){d.r(f);var k=d(8);l=function(){function d(){var d=this;this.isWIFI=this.isConnected=!0;this.type="";this.getCurrentType(function(c){d.isConnected="unknown"!=c||"none"!=c;d.isWIFI="wifi"===c;d.type=c});this.startMonitor()}d.prototype.startMonitor=function(){var d=this;py.onNetworkStatusChange(function(c){d.handleNetworkChange(c)})};d.prototype.handleNetworkChange=function(d){this.isWIFI="wifi"===d.networkType;this.type=d.networkType;this.isConnected=d.isConnected;console.log("NETWORK | change :\n");console.log(JSON.stringify(d));k["default"].defaultCenter.event(k.NotificationName.NetworkChanged,d)};d.prototype.stopMonitor=function(){py.offNetworkStatusChange(this.handleNetworkChange)};d.prototype.getCurrentType=function(d){py.getNetworkType({success:function(c){console.log("NETWORK | type :\n");console.log(JSON.stringify(c));d&&d(c.networkType)},fail:function(){}})};d.NETWORK_CHANGE="NetworkMonitor.network.change";return d}();f["default"]=l},function(l,f,d){d.r(f);var k=d(8);l=function(){function d(){this.inForeground=!0;this.ignoreFirstTime=window.wx?!0:!1;this.startMonitor()}d.prototype.startMonitor=function(){var d=this;py.onShow(function(c){d.ignoreFirstTime?d.ignoreFirstTime=!1:(console.warn("SHOW :\n"),console.warn(JSON.stringify(c)),d.inForeground=!0,k["default"].defaultCenter.event(k.NotificationName.ApplicationShow,c))});py.onHide(function(c){console.warn("HIDE :\n");console.warn(JSON.stringify(c));d.inForeground=!1;k["default"].defaultCenter.event(k.NotificationName.ApplicationHide,c)})};d.prototype.stopMonitor=function(){py.offShow({});py.offHide({})};d.SHOW="app.on.show";d.HIDE="app.on.hide";d.OFF_SHOW="app.off.show";d.OFF_HIDE="app.off.hide";return d}();f["default"]=l},function(l,f,d){d.r(f);l=function(){function d(){}d.pay=function(d,e,c){py.requestPayment({env:this.env,offerId:this.offerId,currencyType:"CNY",buyQuantity:d,success:function(a){console.log("PAY | suc | "+JSON.stringify(a));e&&e()},fail:function(a){console.log("PAY | fail | "+JSON.stringify(a));a=a.errCode;c&&c(a)}})};d.env=0;d.platform="android";return d}();f["default"]=l},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}k(e,d);e.onShow=function(){this.onShowHandler&&this.onShowHandler()};e.onHide=function(){this.onHideHandler&&this.onHideHandler()};e.onAudioInterruptionBegin=function(){this.onAudioInterruptionBeginHandler&&this.onAudioInterruptionBeginHandler()};e.onAudioInterruptionEnd=function(){this.onAudioInterruptionEndHandler&&this.onAudioInterruptionEndHandler()};e._windowFocus=function(){Laya.stage._isFocused=!0;Laya.stage.event("focus");Laya.stage.event("focuschange")};e._windowBlur=function(){Laya.stage._isFocused=!1;Laya.stage.event("blur");Laya.stage.event("focuschange")};return e}(Laya.SoundManager);f["default"]=l},function(l,f,d){d.r(f);var k=d(2);l=function(){function d(){}d.load=function(d,c,a,b){void 0===b&&(b=null);var e=Laya.Handler.create(this,function(){a&&a.call(c)}),f=Laya.Handler.create(this,function(a){console.log("loading progress"+a);b&&b.call(c,a)},null,!1);Laya.loader.load(d,e,f)};d.preload=function(d,c){Laya.loader.load(k.DataCenter.GAMERES,d,c)};return d}();f["default"]=l},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(c,a,b){void 0===a&&(a=1);void 0===b&&(b=!1);var e=d.call(this)||this;e.duration=c;e.interval=a;e.up=b;e.curTime=0;return e}k(e,d);e.prototype.start=function(){this.curTime=this.up?0:this.duration;this.update();Laya.timer.loop(1E3*this.interval,this,this.update);this.event(e.START,"")};e.prototype.stop=function(){this.curTime=0;Laya.timer.clear(this,this.update);this.event(e.STOP,"")};e.prototype.update=function(){this.up?(this.curTime++,this.curTime>=this.duration?this.stop():this.event(e.PROGRESS,this.curTime)):0<this.curTime?(this.curTime--,this.event(e.PROGRESS,this.curTime)):this.stop()};e.START="start_";e.STOP="stop_";e.TIMEOUT="timeout_";e.PROGRESS="progress_";return e}(Laya.EventDispatcher);f["default"]=l},function(l,f,d){d.r(f);var k=d(8),h=d(9),e=function(){var c=function(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return c(a,b)};return function(a,b){function d(){this.constructor=a}c(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();l=function(c){function a(){var a=c.call(this)||this;a.size(750,1334);k["default"].defaultCenter.on(k.NotificationName.LoginSuccess,a,a.destroy);a.on(Laya.Event.CLICK,a,function(){PaoYa.game.isAuthed?h["default"].isLogined?this.destroy():console.warn("\u6b64\u65f6\u7528\u6237\u8fd8\u6ca1\u6709\u767b\u5f55\u6210\u529f"):console.warn("\u6b64\u65f6\u7528\u6237\u8fd8\u6ca1\u6709\u5b8c\u6210\u6388\u6743")});return a}e(a,c);a.showInView=function(b){if(!h["default"].isLogined){var c=new a;this.view=c;b.addChild(c)}};a.hide=function(){this.view.destroy()};a.prototype.destroy=function(){k["default"].defaultCenter.off(k.NotificationName.LoginSuccess,this,this.destroy);this.removeSelf();c.prototype.destroy.call(this,!0)};return a}(Laya.View);f["default"]=l},function(l,f,d){d.r(f);var k=function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,c)};return function(e,c){function a(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();l=function(d){function e(c){c=d.call(this,c)||this;c.__init_$();return c}k(e,d);e.prototype.__init_$=function(){var c=this;this.mask=new Laya.Sprite;this.on(Laya.Event.RESIZE,this,function(){if(c.mask){c.mask.graphics.clear();var a=Math.ceil(Math.min(c.width,c.height)/2);c.mask.graphics.drawCircle(a,a,a,"#ff0000")}})};return e}(Laya.Image);f["default"]=l;Laya.ClassUtils.regClass("PaoYa.RoundImageView",l)},function(l,f,d){d.r(f);l=function(){function d(){}d.auth=function(d){py.auth(d)};d.scope={userInfo:"scope.userInfo",userLocation:"scope.userLocation",address:"scope.address",invoiceTitle:"scope.invoiceTitle",werun:"scope.werun",record:"scope.record",writePhotosAlbum:"scope.writePhotosAlbum",camera:"scope.camera"};return d}();f["default"]=l},function(l,f){Object.defineProperty(Array.prototype,"lastObject",{configurable:!1,enumerable:!1,get:function(){return this.length?this[this.length-1]:null}});Object.defineProperty(Array.prototype,"randomItem",{configurable:!1,enumerable:!1,get:function(){return this.length?this[Math.floor(Math.random()*this.length)]:null}})},function(l,f){Date.prototype.formatWithStyle=function(d){var f=this.getFullYear(),h=this.getMonth()+1,h=10>h?"0"+h:h,e=this.getDate(),e=10>e?"0"+e:e,c=this.getHours(),c=10>c?"0"+c:c,a=this.getMinutes(),b=this.getSeconds(),a=10>a?"0"+a:a,b=10>b?"0"+b:b;d=d.replace("yyyy",f+"");d=d.replace("mm",h+"");d=d.replace("dd",e+"");d=d.replace("hh",c+"");d=d.replace("mm",a+"");return d=d.replace("ss",b+"")}},function(l,f){Number.prototype.formatTime=function(d){void 0===d&&(d="H:M:S");var f;f=Math.floor(this);var h=Math.floor(f/3600),h=10>h?"0"+h:h+"",e=f%3600;f=Math.floor(e/60);f=10>f?"0"+f:f+"";e%=60;e=10>e?"0"+e:e+"";-1!=d.indexOf("H")&&(d=d.replace(/H/,h));-1!=d.indexOf("M")&&(d=d.replace(/M/,f));-1!=d.indexOf("S")&&(d=d.replace(/S/,e));return d}},function(l,f,d){d.r(f);var k=d(11);Laya.View.prototype.createViewFromJSON=function(d,e){var c=this;if(d){Laya.Utils.getFileExtension(d)||(d+=".json");Laya.loader.resetProgress();var a=new Laya.SceneLoader;a.on(Laya.Event.COMPLETE,null,function(){var a=Laya.Loader.getRes(d);if(!a)throw"Can not find scene:"+d;c._getBit(8)?(c.on("onViewCreated",null,function(){c.event(Laya.Event.READY,c);e&&e.runWith(null)}),c.createView(a)):(console.warn("Scene has been Ready!!!"),c.event(Laya.Event.READY,c),e&&e.runWith(null))});a.load(d)}};Laya.Node.prototype.addClickListener=function(d,e,c,a){void 0===c&&(c=!1);d||(d={});return this.on(Laya.Event.CLICK,this,function(b){if(c){var f=Date.now();1E3<f-(d._last_click_time||0)?e.call(d,b):(a&&a.call(d,"\u64cd\u4f5c\u901f\u5ea6\u8fc7\u5feb"),console.warn("\u64cd\u4f5c\u70b9\u51fb\u8fc7\u5feb"));d._last_click_time=f}else e.call(d,b)})};Laya.Node.prototype.dispatchLifeCycleEvent=function(d,e,c,a,b,f){this.dispatchComponentEvent(d,e,c,a,b,f);if(!this.destroyed)for(var g=0,h=this.numChildren;g<h;g++)this.getChildAt(g).dispatchComponentEvent(d,e,c,a,b,f);if(this[d])this[d](e,c,a,b,f)};Laya.Node.prototype.dispatchComponentEvent=function(d,e,c,a,b,f){(this._components||[]).forEach(function(g){if(g[d]&&g.enabled)g[d](e,c,a,b,f)})};Laya.Sprite.prototype.drawBackground=function(){this.graphics.clear();this.graphics.drawPath(0,0,k["default"].makeRoundRectPath(this.width,this.height,this._cornerRadius||0,PaoYa.RectCorner.RectCornerAllCorners),{fillStyle:this._backgroundColor})};Laya.Scene.load=function(d,e,c){function a(a){Laya.Scene._loadPage&&Laya.Scene._loadPage.event("progress",a);c&&c.runWith(a)}function b(){Laya.Scene._prepareHandler=null;f.off("progress",null,a);var b=d;b instanceof Array&&(d=b[b.length-1]);b=Laya.Loader.getRes(d);if(!b)throw"Can not find scene:"+d;if(!b.props)throw"Scene data is error:"+d;var c=b.props.runtime?b.props.runtime:b.type,g=Laya.ClassUtils.getClass(c),h="instance"==b.props.renderType?g.instance||(g.instance=new g):new g;if(h&&h instanceof laya.display.Node)h.url=d,h._getBit(8)?(h.on("onViewCreated",null,function(){Laya.Scene.hideLoadingPage();e&&e.runWith(h)}),h.createView(b)):(e&&e.runWith(h),Laya.Scene.hideLoadingPage());else throw"Can not find scene:"+c;}Laya.loader.resetProgress();var f=new Laya.SceneLoader;f.on("progress",null,a);f.once("complete",null,function(){if(Laya.Scene._prepareHandler){var a=Laya.Scene._prepareHandler;"function"==typeof a?(a(),b()):"object"==typeof a&&(a.async?a.async(function(){b()}):(a.sync(),b()))}else b()});f.load(d)};Object.defineProperty(Laya.Sprite.prototype,"backgroundColor",{configurable:!1,enumerable:!1,get:function(){return this._backgroundColor||null},set:function(d){d&&d!=this._backgroundColor&&(this._backgroundColor=d,Laya.timer.callLater(this,this.drawBackground))}});Object.defineProperty(Laya.Sprite.prototype,"cornerRadius",{configurable:!1,enumerable:!1,get:function(){return this._cornerRadius||0},set:function(d){d&&this._cornerRadius!=d&&(this._cornerRadius=d,Laya.timer.callLater(this,this.drawBackground))}})}]);